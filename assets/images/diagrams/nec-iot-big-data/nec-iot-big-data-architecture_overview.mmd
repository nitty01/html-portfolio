graph LR
    %% ---------------------- Data Sources ----------------------
    A[ IoT Devices] --> B[⚡ Edge Processing<br/>Data Preprocessing]
    
    %% ---------------------- Ingestion ----------------------
    B --> C[📥 Kafka + MQTT<br/>Message Streaming]
    
    %% ---------------------- Processing ----------------------
    C --> D[🌊 Stream Processing<br/>Spark + Flink]
    C --> E[📊 Batch Processing<br/>Hadoop + Spark]
    
    %% ---------------------- Storage ----------------------
    D --> F[( HDFS + HBase)]
    E --> F
    
    %% ---------------------- Analytics ----------------------
    F --> G[🤖 ML Engine<br/>Predictive Analytics]
    
    %% ---------------------- Outputs ----------------------
    G --> H[📈 Real-time Dashboards]
    G --> I[ Historical Reports]
    
    %% ---------------------- Infrastructure ----------------------
    J[ Kubernetes Cluster] --> D
    K[🏢 NEC MMS Platform] --> J
    
    %% ---------------------- Styles ----------------------
    classDef source fill:#BBDEFB,stroke:#1565C0,stroke-width:2px,color:#0D1B2A;
    classDef edge fill:#B2DFDB,stroke:#00695C,stroke-width:2px,color:#00332E;
    classDef ingestion fill:#D1C4E9,stroke:#4527A0,stroke-width:2px,color:#1A093F;
    classDef processing fill:#FFE0B2,stroke:#EF6C00,stroke-width:2px,color:#4A2500;
    classDef storage fill:#C8E6C9,stroke:#2E7D32,stroke-width:2px,color:#0B2E13;
    classDef analytics fill:#F8BBD0,stroke:#AD1457,stroke-width:2px,color:#4A0E2E;
    classDef output fill:#E1BEE7,stroke:#6A1B9A,stroke-width:2px,color:#2D0A3A;
    classDef infra fill:#FFF9C4,stroke:#F57F17,stroke-width:2px,color:#E65100;
    
    class A source
    class B edge
    class C ingestion
    class D,E processing
    class F storage
    class G analytics
    class H,I output
    class J,K infra
